<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Mystery Box Navidad - PIN</title>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(180deg, #ff4d4d 0%, #d22727 30%, #007700 100%);
            height: 100vh;
            color: white;
            text-align: center;
            overflow-x: hidden;
            overflow-y: auto;
            position: relative;
        }

        .snowflake {
            position: fixed;
            top: -10px;
            color: white;
            font-size: 20px;
            animation: fall linear infinite;
            pointer-events: none;
            z-index: 9999;
        }

        @keyframes fall {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(110vh);
            }
        }

        .card {
            background: white;
            color: #333;
            width: 90%;
            max-width: 350px;
            margin: 120px auto;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
        }

        input {
            width: 80%;
            padding: 12px;
            font-size: 18px;
            border-radius: 10px;
            border: 2px solid red;
            text-align: center;
        }

        button {
            margin-top: 15px;
            padding: 10px 20px;
            font-size: 18px;
            background: green;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

        button:hover {
            background: #004d00;
        }

        img {
            width: 120px;
            margin-bottom: 15px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
        }

        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 20px;
            width: 80%;
            max-width: 350px;
            color: #333;
            position: relative;
            text-align: center;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 18px;
        }

        .close {
            position: absolute;
            top: 10px;
            right: 15px;
            color: #888;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #444;
        }
    </style>
</head>

<body>

    <!-- AUDIO -->
    <audio id="bgMusic" src="music.mp3" loop></audio>

    <!-- Nieves -->
    <script>
        for (let i = 0; i < 50; i++) {
            let snow = document.createElement("div");
            snow.className = "snowflake";
            snow.innerHTML = "‚ùÑ";
            snow.style.left = Math.random() * 100 + "vw";
            snow.style.animationDuration = (Math.random() * 3 + 2) + "s";
            snow.style.opacity = Math.random();
            snow.style.fontSize = (Math.random() * 15 + 10) + "px";
            document.body.appendChild(snow);
        }
    </script>

    <div class="card">
        <img src="https://images.vexels.com/media/users/3/127856/isolated/preview/d7b666e9823c6dda5fed99b4e5668ccb-arbol-de-navidad-plano-verde.png" alt="Navidad">
        <h2>üéÑ Introduce tu PIN üéÑ</h2>
        <input id="pinInput" type="text" maxlength="4" placeholder="PIN de 4 d√≠gitos">
        <button onclick="startMusic(); checkPin()">Entrar</button>
    </div>

    <div id="myModal" class="modal">
        <div class="modal-content" id="modalText">
            <span class="close" onclick="closeModal()">&times;</span>
        </div>
    </div>

    <script>
        const data = {
            "1324": { nombre: "Cati", taquilla: 1 },
            "8451": { nombre: "Paco", taquilla: 2 },
            "9023": { nombre: "Vane", taquilla: 3 },
            "4478": { nombre: "Susa", taquilla: 4 },
            "5582": { nombre: "Jmi", taquilla: 5 },
            "7719": { nombre: "Ruben", taquilla: 6 },
            "6604": { nombre: "Martin", taquilla: 7 }
        };

        function startMusic() {
            const audio = document.getElementById("bgMusic");
            audio.volume = 0.5;
            audio.play().catch(() => {});
        }

        function checkPin() {
            const pin = document.getElementById("pinInput").value.trim();
            const modal = document.getElementById("myModal");
            const modalText = document.getElementById("modalText");

            if (data[pin]) {
                const user = data[pin];
                modalText.innerHTML = `
                    <span class="close" onclick="closeModal()">&times;</span>
                    üéÖ <b>¬°Feliz Navidad, ${user.nombre}!</b><br>
                    Tu regalo est√° en la taquilla <b>${user.taquilla}</b> üéÅ
                `;
                modal.style.display = "block";
            } else {
                modalText.innerHTML = `
                    <span class="close" onclick="closeModal()">&times;</span>
                    ‚ùå PIN incorrecto
                `;
                modal.style.display = "block";
            }
        }

        function closeModal() {
            document.getElementById("myModal").style.display = "none";
        }
    </script>

</body>
</html>
